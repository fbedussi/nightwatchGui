{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/getRequest.js","webpack:///./src/createEl.js","webpack:///./src/insertInput.js","webpack:///./src/globals.js","webpack:///./src/insertFeatureLine.js","webpack:///./src/getTags.js","webpack:///./src/arrayIntersect.js","webpack:///./src/printFeature.js","webpack:///./src/getFeatureName.js","webpack:///./src/updateFeaturesToRun.js","webpack:///./src/manageTags.js","webpack:///./src/getFormData.js","webpack:///./src/ajaxPost.js","webpack:///./src/handleFormSubmit.js","webpack:///./src/getSiblingByType.js","webpack:///./src/handleFolderClick.js","webpack:///./src/handleFileClick.js","webpack:///./src/resetClick.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","getRequest","url","callback","window","fetch","method","then","response","json","responseJson","catch","err","console","log","createEl","attrObj","el","document","createElement","elTag","text","createTextNode","appendChild","class","className","id","insertInput","storeFeaturesObj","label","labelText","setAttribute","type","length","checked","dataPath","dataType","labelClass","parent","storeFeatures","set","obj","tags","globalTags","arr","testRunningMsg","getElementById","submitBtn","includedFeaturesWrapper","excludedFeaturesWrapper","insertLine","parentId","keys","map","index","assign","convertResponseObjToArray","sort","a","b","forEach","line","localTags","localTagsLabel","concat","join","fileLine","path","fieldset","closeContainer","openContainer","fileList","openCloseContainer","subDir","getTags","included","querySelectorAll","tagEl","excluded","arrayIntersect","arr1","arr2","arrays","shift","filter","v","every","indexOf","printFeature","featureArray","innerHTML","feature","featureEl","featureTxt","getFeatureName","featurePath","replace","substr","updateFeaturesToRun","featuresObj","selectedFolderEl","querySelector","collecting","dataset","selectedFeatures","includedTag","excludedTag","excludedFolders","selectedFile","featuresToRunContainer","processFeatureLine","excludedFolder","Boolean","push","classList","remove","disabled","add","manageTags","tagsArr","tag","tagText","addEventListener","e","dataTransfer","setData","target","dropEffect","effectAllowed","insertTags","preventDefault","contains","parentNode","data","getData","includedFeature","excludedFeature","parseFeature","getFormData","form","dataObj","environments","dir","tagsIncluded","tagsExcluded","getAttribute","exclude","file","ajaxPost","headers","Headers","Content-Type","body","JSON","stringify","statusText","alert","handleFormSubmit","host","socket","io","connect","removeAllListeners","on","msg","scrollTop","scrollHeight","getSiblingByTypeStarter","elType","getSiblingByType","nextElementSibling","parentElement","firstElementChild","handleFolderClick","btn","currentTarget","siblingBtn","fileBtnChecked","childFolderOfSelectedFolder","excludeBtn","checkParentsAre","elToMatch","handleFileClick","parentFieldset","closest","parentFolderBtn","parentExcludeFolderBtn","resetClick","tagList","setTimeout","location","featureListReady","Event","bubbles","cancelable","responseObj","_typeof","inputParent","insertFeatureLine","uniqueTags","item","pos","self","dispatchEvent"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\r\n * @description execute a GET request\r\n * @param {string} url\r\n * @param {function} callback\r\n */\r\nfunction getRequest(url, callback) {\r\n    window.fetch(url, {\r\n            method: 'get'\r\n        })\r\n    .then(response => response.json())\r\n    .then(responseJson => callback(responseJson))\r\n    .catch(err => console.log('Error: ' + err));\r\n}\r\n\r\nexport default getRequest;\r\n","/**\r\n * @description create an element with an optional class and text content\r\n * @param {attrObjForCreateEl} attrObj\r\n * @returns {element}\r\n */\r\nfunction createEl(attrObj) {\r\n    /**\r\n     * @typedef {Object} attrObjForCreateEl\r\n     * @property {string} elTag - The tag of the element to create\r\n     * @property {string} class - Class (or classes space separated) to assign to the newly created element\r\n     * @property {string|element} text - string or element to set as content of the newly created element\r\n     */\r\n    var el = document.createElement(attrObj.elTag);\r\n    if (attrObj.text) {\r\n        var text = (typeof attrObj.text  === 'string') ? document.createTextNode(attrObj.text) : attrObj.text;\r\n        el.appendChild(text);\r\n    }\r\n    if (attrObj.class) {\r\n        el.className = attrObj.class;\r\n    }\r\n    if (attrObj.id) {\r\n        el.id = attrObj.id;\r\n    }\r\n    return el;\r\n}\r\n\r\nexport default createEl;\r\n","import createEl from './createEl';\r\n\r\n/**\r\n * @desc create an input field (checkbox or radio buttn) + its label and append them to the parent\r\n * @param {attrObjForInput} attrObj\r\n */\r\nfunction insertInput (attrObj) {\r\n    /**\r\n     * @typedef {Object} attrObjForInput\r\n     * @property {string} id\r\n     * @property {string} type - Input type (eg. 'checkbox' or 'radio')\r\n     * @property {string|element} labelText - string or element to set as content of the input label\r\n     * @property {String} labelClass\r\n     * @property {string} name\r\n     * @property {string} class\r\n     * @property {boolean} checked\r\n     * @property {string} dataPath - The path to folder/file to assign to data-path\r\n     * @property {string} dataType - The value of data-type: 'environment', 'file', 'dir'\r\n     * @property {HTMLElement} parent\r\n     */\r\n    var el = document.createElement('input');\r\n    var label = createEl({\r\n        elTag: 'label',\r\n        text: attrObj.labelText\r\n    });\r\n\r\n    el.setAttribute('id', attrObj.id);\r\n    el.setAttribute('type', attrObj.type);\r\n    if (attrObj.name) {\r\n        el.setAttribute('name', attrObj.name);\r\n    }\r\n    if (attrObj.className.length) {\r\n        el.setAttribute('class', attrObj.className);\r\n    }\r\n    if (attrObj.checked) {\r\n        el.setAttribute('checked', 'checked');\r\n    }\r\n    if (attrObj.dataPath) {\r\n        el.setAttribute('data-path', attrObj.dataPath);\r\n    }\r\n    if (attrObj.dataType) {\r\n        el.setAttribute('data-type', attrObj.dataType);\r\n    }\r\n    label.setAttribute('for', attrObj.id);\r\n    if (attrObj.labelClass) {\r\n        label.className = attrObj.labelClass;\r\n    }\r\n\r\n    attrObj.parent.appendChild(el);\r\n    attrObj.parent.appendChild(label);\r\n}\r\n\r\nexport default insertInput;\r\n","/**\r\n * @desc Manages the app global variables\r\n */\r\n\r\n/*The features object tree*/\r\nvar storeFeaturesObj;\r\nexport const storeFeatures = {\r\n    get: () => storeFeaturesObj,\r\n    set: (obj) => storeFeaturesObj = obj\r\n};\r\n\r\n/*All the tags found in features files*/\r\nvar tags = [];\r\nexport const globalTags = {\r\n    get: () => tags,\r\n    set: (arr) => tags = arr\r\n};\r\n\r\n/*DOM elements*/\r\nexport const testRunningMsg = document.getElementById('testRunningMsg');\r\nexport const submitBtn = document.getElementById('submitBtn');\r\nexport const includedFeaturesWrapper = document.getElementById('includedFeatures');\r\nexport const excludedFeaturesWrapper = document.getElementById('excludeddFeatures');\r\n","import createEl from './createEl';\r\nimport insertInput from './insertInput';\r\nimport {globalTags} from './globals';\r\n\r\n/**\r\n * @description recursively print features folder contentq\r\n * @param {featuresDataObj} obj\r\n * @param {element} parent - The parent element of the new line\r\n */\r\n\r\n/**\r\n * @desc converts a response object into an array\r\n * @param obj {object}\r\n * @returns {Array}\r\n */\r\nfunction convertResponseObjToArray(obj, parentId) {\r\n    return Object.keys(obj).map(function(key, index) {\r\n        return Object.assign(\r\n            {},\r\n            obj[key],\r\n            {\r\n                label: key,\r\n                id: parentId + '-' + index\r\n            }\r\n        );\r\n    });\r\n}\r\n\r\nfunction insertLine (obj, parent, parentId) {\r\n    /**\r\n     * @typedef {Object} featuresDataObj\r\n     * @description a recursive object containing data on features\r\n     * @property {string} type - 'dir' or 'file'\r\n     * @property {path} path - the absolute path to the folder or file\r\n     * @property {featuresDataObj} subdir - a featuresDataObj of the subfolder eventually present in a folder\r\n     * @property {array} tags - the tags eventually present in a feature\r\n     */\r\n\r\n    if(typeof parentId === 'undefined') {\r\n        parentId = 'root';\r\n    }\r\n\r\n    var arr = convertResponseObjToArray(obj, parentId).sort(function(a,b) {\r\n        return a.label > b.label;\r\n    });\r\n\r\n    arr.forEach(function(line) {\r\n        if (line.type === 'file') {\r\n            //Collect tags\r\n            let localTags = line.tags;\r\n            let localTagsLabel = '';\r\n            if (localTags && localTags.length) {\r\n                globalTags.set(globalTags.get().concat(localTags));\r\n                localTagsLabel = ' (TAG: ' + localTags.join(', ') + ')';\r\n            }\r\n\r\n            const fileLine = document.createElement('li');\r\n            parent.appendChild(fileLine);\r\n\r\n            insertInput({\r\n                type: 'radio',\r\n                name: 'selectFile',\r\n                value: line.label,\r\n                labelText: line.label + localTagsLabel,\r\n                className: 'line',\r\n                dataPath: line.path,\r\n                dataType: 'file',\r\n                id: line.id,\r\n                parent: fileLine\r\n            });\r\n        } else { //directories\r\n            var fieldset = createEl({\r\n                elTag: 'fieldset',\r\n                class: 'folderWrapper ' + line.label + '_wrapper'\r\n            });\r\n            var closeContainer = createEl({\r\n                elTag: 'span',\r\n                text: '',\r\n                class: 'closeTxt'\r\n            });\r\n            var openContainer = createEl({\r\n                elTag: 'span',\r\n                text: '',\r\n                class: 'openTxt'\r\n            });\r\n            var fileList = createEl({\r\n                elTag: 'ul',\r\n                class: 'featureFiles'\r\n            });\r\n            var openCloseContainer = document.createElement('span');\r\n\r\n            openCloseContainer.appendChild(openContainer);\r\n            openCloseContainer.appendChild(closeContainer);\r\n            openCloseContainer.appendChild(document.createTextNode(line.label));\r\n            parent.appendChild(fieldset);\r\n\r\n            insertInput({\r\n                type: 'checkbox',\r\n                value: line.label,\r\n                labelText: openCloseContainer,\r\n                className: 'closeBtn',\r\n                labelClass: 'openClose',\r\n                dataPath: line.path,\r\n                dataType: 'close',\r\n                id: line.id + '_close',\r\n                checked: true,\r\n                parent: fieldset\r\n            });\r\n            insertInput({\r\n                type: 'radio',\r\n                name: 'selectFolder',\r\n                value: line.label,\r\n                labelText: 'select folder',\r\n                className: 'folderBtn',\r\n                labelClass: 'btn btn-outline-dark mr-2 selectFolder',\r\n                dataPath: line.path,\r\n                dataType: 'dir',\r\n                id: line.id + '_entire',\r\n                parent: fieldset\r\n            });\r\n            insertInput({\r\n                type: 'checkbox',\r\n                value: line.value,\r\n                labelText: 'exclude folder',\r\n                className: 'folderBtn',\r\n                labelClass: 'btn btn-outline-dark excludeFolder',\r\n                dataPath: line.path,\r\n                dataType: 'exclude',\r\n                id: line.id + '_entireExclude',\r\n                parent: fieldset\r\n            });\r\n            fieldset.appendChild(fileList);\r\n            insertLine(line.subDir, fileList, line.id);\r\n        }\r\n    });\r\n}\r\n\r\nexport default insertLine;\r\n","/**\r\n * @namespace\r\n * @description get the tags to include/exclude\r\n * @returns {tags}\r\n */\r\nfunction getTags() {\r\n    var tagsIncluded = [].map.call(document.querySelectorAll('#tagsIncluded li'), function (tagEl) {\r\n        return tagEl.id;\r\n    });\r\n    var tagsExcluded = [].map.call(document.querySelectorAll('#tagsExcluded li'), function (tagEl) {\r\n        return tagEl.id;\r\n    });\r\n\r\n    /**\r\n     * @typedef tags\r\n     * @type Object\r\n     * @property tagsIncluded {array}\r\n     * @property tagsExcluded {array}\r\n     */\r\n    return {\r\n        included: tagsIncluded,\r\n        excluded: tagsExcluded\r\n    };\r\n}\r\n\r\nexport default getTags;","/**\r\n * @description returns the element that 2 arrays have in common\r\n * @param {array} arr1\r\n * @param {array} arr2\r\n * @returns {array}\r\n */\r\nfunction arrayIntersect(arr1, arr2) {\r\n    var arrays = [arr1, arr2];\r\n\r\n    return arrays.sort().shift().filter(function (v) {\r\n        return arrays.every(function (a) {\r\n            return a.indexOf(v) !== -1;\r\n        });\r\n    });\r\n}\r\n\r\nexport default arrayIntersect;\r\n","/**\r\n * @description create a li element with the feature name as content for every feature in featureArray and appends it to the parent\r\n * @param {array} featureArray\r\n * @param {element} parent\r\n */\r\nfunction printFeature (featureArray, parent) {\r\n    parent.innerHTML = '';\r\n\r\n    featureArray.forEach(function (feature) {\r\n        var featureEl = document.createElement('li');\r\n        var featureTxt = document.createTextNode(feature);\r\n        featureEl.appendChild(featureTxt);\r\n        parent.appendChild(featureEl);\r\n    });\r\n}\r\n\r\nexport default printFeature;\r\n","function getFeatureName (featurePath) {\r\n    return featurePath.replace(/^.*features/, '').substr(1);\r\n}\r\n\r\nexport default getFeatureName;\r\n","import getTags from './getTags';\r\nimport arrayIntersect from './arrayIntersect';\r\nimport getFeatureName from './getFeatureName';\r\nimport printFeature from './printFeature';\r\nimport {submitBtn, storeFeatures} from './globals'\r\n\r\n/**\r\n * @desc Update the list of features to run according to the selections\r\n */\r\nfunction updateFeaturesToRun (featuresObj) {\r\n    var selectedFolderEl = document.querySelector('[data-type=\"dir\"]:checked');\r\n    var collecting = (selectedFolderEl.dataset.path === 'all') ? true : false;\r\n    var selectedFeatures = [];\r\n    var includedTag = getTags().included;\r\n    var excludedTag = getTags().excluded;\r\n    var excludedFolders = [].map.call(document.querySelectorAll('[data-type=\"exclude\"]:checked'), function (el) {\r\n        return el.dataset.path;\r\n    });\r\n    var selectedFile = document.querySelector('[data-type=\"file\"]:checked');\r\n    var featuresToRunContainer = document.getElementById('featuresToRun');\r\n\r\n    featuresToRunContainer.innerHTML = '';\r\n\r\n    (function processFeatureLine (obj) {\r\n        var key;\r\n\r\n        for (key in obj) {\r\n            if (obj[key].type === 'file') {\r\n                if (!arrayIntersect(excludedTag, obj[key].tags).length\r\n                    && collecting\r\n                    && (!includedTag.length || arrayIntersect(includedTag, obj[key].tags).length)\r\n                    && (!excludedFolders.length || excludedFolders.every(function (excludedFolder) {\r\n                        return Boolean(obj[key].path.indexOf(excludedFolder) === -1);\r\n                    }))\r\n                    && (!selectedFile || obj[key].path === selectedFile.dataset.path)\r\n                ) {\r\n                    selectedFeatures.push(getFeatureName(obj[key].path));\r\n                }\r\n            } else {\r\n                if (obj[key].subDir) {\r\n                    if (obj[key].path.indexOf(selectedFolderEl.dataset.path) === 0) {\r\n                        collecting = true;\r\n                    } else if (selectedFolderEl.dataset.path !== 'all') {\r\n                        collecting = false;\r\n                    }\r\n                    processFeatureLine(obj[key].subDir);\r\n                }\r\n            }\r\n        }\r\n    })(storeFeatures.get());\r\n\r\n    if (!selectedFeatures.length) {\r\n        selectedFeatures = ['No features selected!'];\r\n        featuresToRunContainer.classList.add('error');\r\n        submitBtn.disabled = true;\r\n    } else  {\r\n        featuresToRunContainer.classList.remove('error');\r\n        submitBtn.disabled = false;\r\n    }\r\n    printFeature(selectedFeatures, featuresToRunContainer);\r\n}\r\n\r\nexport default updateFeaturesToRun;","import getTags from './getTags';\r\nimport arrayIntersect from './arrayIntersect';\r\nimport printFeature from './printFeature';\r\nimport updateFeaturesToRun from './updateFeaturesToRun';\r\nimport getFeatureName from './getFeatureName';\r\nimport {includedFeaturesWrapper, excludedFeaturesWrapper, storeFeatures} from './globals'\r\n\r\n\r\n/**\r\n * @description create a li element for every tag, initialise the drad&drop behaviour and appends it to the parent\r\n * @param {array} tagsArr\r\n * @param {element} parent\r\n */\r\nfunction insertTags (tagsArr, parent) {\r\n    tagsArr.forEach(function (tag) {\r\n        var tagEl = document.createElement('li');\r\n        var tagText = document.createTextNode(tag);\r\n        tagEl.appendChild(tagText);\r\n        tagEl.setAttribute('draggable', true);\r\n        tagEl.id = tag;\r\n        tagEl.className = 'tag';\r\n        parent.appendChild(tagEl);\r\n        tagEl.addEventListener('dragstart', function (e) {\r\n            console.log('dragstart');\r\n            e.dataTransfer.setData(\"text/plain\", e.target.id);\r\n            e.dataTransfer.dropEffect = \"move\";\r\n            e.dataTransfer.effectAllowed = \"move\";\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * @description update the lists of included/excluded feature after every tag drop\r\n */\r\nfunction updateSelectedFeatures () {\r\n    var includedTag = getTags().included;\r\n    var excludedTag = getTags().excluded;\r\n    var includedFeature = [];\r\n    var excludedFeature = [];\r\n\r\n    (function parseFeature (featuresObj) {\r\n        Object.keys(featuresObj).forEach(function (key) {\r\n            if (featuresObj[key].type === 'file' && featuresObj[key].tags) {\r\n                if (arrayIntersect(featuresObj[key].tags, includedTag).length) {\r\n                    includedFeature.push(getFeatureName(featuresObj[key].path));\r\n                }\r\n                if (arrayIntersect(featuresObj[key].tags, excludedTag).length) {\r\n                    excludedFeature.push(getFeatureName(featuresObj[key].path));\r\n                }\r\n                return;\r\n            } else {\r\n                if (!featuresObj[key].subDir) {\r\n                    return;\r\n                } else {\r\n                    return parseFeature(featuresObj[key].subDir);\r\n                }\r\n            }\r\n        });\r\n    })(storeFeatures.get());\r\n\r\n    printFeature(includedFeature, includedFeaturesWrapper);\r\n    printFeature(excludedFeature, excludedFeaturesWrapper);\r\n\r\n    updateFeaturesToRun();\r\n}\r\n\r\n/**\r\n * @description manage the tags section\r\n * @param {array} tagsArr - The array of the tags found in the features files\r\n */\r\nfunction manageTags (tagsArr) {\r\n    insertTags(tagsArr, document.getElementById('tagsList'));\r\n    document.addEventListener('dragover', function (e) {\r\n        e.preventDefault();\r\n    });\r\n    document.addEventListener('dragenter', function (e) {\r\n        e.preventDefault();\r\n    });\r\n    document.addEventListener('drop', function (e) {\r\n        e.preventDefault();\r\n        if (e.target.classList.contains('tagsDropArea') || e.target.parentNode.classList.contains('tagsDropArea')) {\r\n            var data = e.dataTransfer.getData(\"text\");\r\n            var el = (e.target.classList.contains('tagsDropArea'))? e.target : e.target.parentNode;\r\n            el.querySelector('ul').appendChild(document.getElementById(data));\r\n            updateSelectedFeatures();\r\n        }\r\n    });\r\n\r\n    //Show container\r\n    document.getElementById('tagsFormWrapper').setAttribute('style', '');\r\n}\r\n\r\nexport default manageTags;\r\n","import getTags from './getTags';\r\n\r\n/**\r\n * @description gather all the data from the form\r\n * @param form {element}\r\n */\r\nfunction getFormData(form) {\r\n    var dataObj = {\r\n        environments: [],\r\n        dir: ''\r\n    };\r\n    var tagsIncluded = getTags().included;\r\n    var tagsExcluded = getTags().excluded;\r\n\r\n    [].filter.call(form.querySelectorAll('.line, .folderBtn'), function (el) {\r\n            return el.checked;\r\n        })\r\n        //.filter(function(el) { return el.disabled; }) //Disabled elements die.\r\n        .forEach(function (el) {\r\n            //Map each field into a name=value string, make sure to properly escape!\r\n            switch (el.getAttribute('data-type')) {\r\n                case 'environment':\r\n                    dataObj.environments.push(el.id);\r\n                    break;\r\n                case 'dir':\r\n                    dataObj.dir = el.getAttribute('data-path');\r\n                    break;\r\n                case 'exclude':\r\n                    if (!dataObj.exclude) {\r\n                        dataObj.exclude = [];\r\n                    }\r\n                    dataObj.exclude.push(el.getAttribute('data-path'));\r\n                    break;\r\n                case 'file':\r\n                    dataObj.file = el.getAttribute('data-path');\r\n            }\r\n        });\r\n\r\n    if (tagsIncluded.length) {\r\n        dataObj.tagsIncluded = tagsIncluded;\r\n    }\r\n\r\n    if (tagsExcluded.length) {\r\n        dataObj.tagsExcluded = tagsExcluded;\r\n    }\r\n\r\n    return dataObj;\r\n}\r\n\r\nexport default getFormData;\r\n","/**\r\n * @description send the POST request\r\n * @param dataObj {object} - data to send\r\n * @param url {string}\r\n * @param callback {function}\r\n */\r\nfunction ajaxPost (dataObj, url, callback) {\r\n    window.fetch(url, {\r\n        method: 'post',\r\n        headers: new Headers({\r\n            'Content-Type': 'application/json; charset=UTF-8'\r\n        }),\r\n        body: JSON.stringify(dataObj)\r\n    }).then(function (response) {\r\n        console.log('Form submit status: ', response.statusText);\r\n        callback();\r\n    }).catch(function (err) {\r\n        console.log('post error: ',err);\r\n        alert('Server not responding, check if it\\'s running');\r\n    });\r\n}\r\n\r\nexport default ajaxPost;\r\n","import getFormData from './getFormData';\r\nimport ajaxPost from './ajaxPost';\r\nimport {submitBtn, testRunningMsg} from './globals'\r\n\r\nvar form = document.getElementById('filesForm');\r\n\r\n/**\r\n * @description handle the form submit button\r\n */\r\nfunction handleFormSubmit(host) {\r\n    /* global io */\r\n    var socket = io.connect(host);\r\n    \r\n    submitBtn.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n\r\n        var dataObj = getFormData(form);\r\n\r\n        ajaxPost(dataObj, host+'/launchspy', function () {\r\n            testRunningMsg.setAttribute('style', '');\r\n        });\r\n\r\n        //Setup socket listener to get nightwatch console messages\r\n        //Remove previous listener eventually present to avoid duplicates\r\n        socket.removeAllListeners('nightwatchConsoleMsg');\r\n        socket.on('nightwatchConsoleMsg', function (msg) {\r\n            //console.log(msg);\r\n            var p = document.createElement('p');\r\n\r\n            p.innerHTML = msg;\r\n            testRunningMsg.appendChild(p);\r\n            testRunningMsg.scrollTop = testRunningMsg.scrollHeight;\r\n        });\r\n    });\r\n}\r\n\r\nexport default handleFormSubmit;","/**\r\n * @namespace\r\n * @description returns the sibling of an element with the specified data-type\r\n * @param {element} el\r\n * @param {string} elType - The type of the sibling to return\r\n * @returns {element}\r\n */\r\nfunction getSiblingByTypeStarter (el, elType) {\r\n    return getSiblingByType(el.parentElement.firstElementChild, elType);\r\n}\r\n\r\nfunction getSiblingByType (el, elType) {\r\n    if (el.dataset.type && el.dataset.type === elType) {\r\n        return el;\r\n    } else {\r\n        if (!el.nextElementSibling) {\r\n            return null;\r\n        } else {\r\n            return getSiblingByType(el.nextElementSibling, elType);\r\n        }\r\n    }\r\n}\r\n\r\nexport default getSiblingByTypeStarter;\r\n","import getSiblingByType from './getSiblingByType';\r\nimport updateFeaturesToRun from './updateFeaturesToRun';\r\n\r\n/**\r\n * @desc check if one of el parents are equal to elToMatch\r\n * @param el {element}\r\n * @param elToMatch {element}\r\n * @returns {boolean}\r\n */\r\nfunction checkParentsAre (el, elToMatch) {\r\n    if (el === elToMatch) {\r\n        return true;\r\n    }\r\n    if (!el.parentElement) {\r\n        return false;\r\n    } else {\r\n        return checkParentsAre(el.parentElement, elToMatch);\r\n    }\r\n}\r\n\r\n/**\r\n * @desc returns the sibling of a folder select/exclude button\r\n */\r\nfunction handleFolderClick () {\r\n    document.addEventListener('featureListReady', function () {\r\n        [].forEach.call(document.querySelectorAll('.folderBtn'), function (btn) {\r\n            btn.addEventListener('click', function (e) {\r\n                if (e.currentTarget.checked) {\r\n                    //Uncheck sibling button\r\n                    let siblingBtn = getSiblingByType(e.currentTarget, (e.currentTarget.dataset.type === 'dir')? 'exclude' : 'dir');\r\n                    if (siblingBtn && siblingBtn.checked) {\r\n                        siblingBtn.checked = false;\r\n                    }\r\n\r\n                    //Uncheck file selection\r\n                    let elType = e.currentTarget.dataset.type;\r\n                    if (elType && (elType === 'dir' || elType === 'exclude')) {\r\n                        let fileBtnChecked = document.querySelector('[data-type=\"file\"]:checked');\r\n                        if (fileBtnChecked) {\r\n                            fileBtnChecked.checked = false;\r\n                        }\r\n                    }\r\n\r\n                    //If no folder is selected checl \"select all\"\r\n                    if (!document.querySelector('[data-type=\"dir\"]:checked')) {\r\n                        document.getElementById('selectAll').checked = true;\r\n                    }\r\n\r\n                    //Uncheck and disable exclude button that are not children of the selected folder and enable those that are children\r\n                    if (e.currentTarget.dataset.type === 'dir') {\r\n                        var childFolderOfSelectedFolder = e.currentTarget.parentElement.querySelector('.featureFiles');\r\n\r\n                        [].map.call(document.querySelectorAll('[data-type=\"exclude\"]'), function (excludeBtn) {\r\n                                excludeBtn.disabled = false;\r\n                                return excludeBtn;\r\n                            })\r\n                            .filter(function (excludeBtn) {\r\n                                return !checkParentsAre(excludeBtn, childFolderOfSelectedFolder);\r\n                            })\r\n                            .forEach(function (excludeBtn) {\r\n                                excludeBtn.disabled = true;\r\n                                excludeBtn.checked = false;\r\n                            })\r\n                        ;\r\n                    }\r\n                }\r\n\r\n                updateFeaturesToRun();\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nexport default handleFolderClick;","import getSiblingByType from './getSiblingByType';\r\nimport updateFeaturesToRun from './updateFeaturesToRun';\r\n\r\n/**\r\n * @desc Check/Uncheck parent folder include/exclude button when a file is selected\r\n */\r\nfunction handleFileClick() {\r\n    document.addEventListener('featureListReady', function () {\r\n\r\n        [].forEach.call(document.querySelectorAll('[name=\"selectFile\"]'), function (btn) {\r\n            btn.addEventListener('click', function (e) {\r\n                let parentFieldset = e.currentTarget.closest('fieldset');\r\n                let parentFolderBtn = parentFieldset? getSiblingByType(parentFieldset.firstElementChild, 'dir') : null;\r\n                let parentExcludeFolderBtn = parentFieldset? getSiblingByType(parentFieldset.firstElementChild, 'exclude') : null;\r\n\r\n                if (parentFolderBtn && !parentFolderBtn.checked) {\r\n                    parentFolderBtn.checked = true;\r\n                }\r\n\r\n                if (parentExcludeFolderBtn && parentExcludeFolderBtn.checked) {\r\n                    parentExcludeFolderBtn.checked = false;\r\n                }\r\n\r\n                updateFeaturesToRun();\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\nexport default handleFileClick;\r\n","import printFeature from './printFeature';\r\nimport updateFeaturesToRun from './updateFeaturesToRun';\r\nimport {testRunningMsg, includedFeaturesWrapper, excludedFeaturesWrapper} from './globals'\r\n\r\n/**\r\n * @namespace\r\n * @desc Manage the reset button click\r\n */\r\nfunction resetClick() {\r\n    document.getElementById('resetButton').addEventListener('click', function () {\r\n        var tagList = document.getElementById('tagsList');\r\n\r\n        //Move all the tags back to the tag list\r\n        [].forEach.call(document.querySelectorAll('.tagsDropAreaWrapper li'), function (tag) {\r\n            tagList.appendChild(tag);\r\n        });\r\n\r\n        //Empty included/excluded feature lists\r\n        printFeature([], includedFeaturesWrapper);\r\n        printFeature([], excludedFeaturesWrapper);\r\n\r\n        //Close test output\r\n        testRunningMsg.setAttribute('style', 'display: none;');\r\n\r\n        //Wait for html reset and then update features to run list\r\n        setTimeout(updateFeaturesToRun, 0);\r\n    });\r\n}\r\nexport default resetClick;\r\n","import getRequest from './getRequest';\r\nimport insertInput from './insertInput';\r\nimport insertFeatureLine from './insertFeatureLine';\r\nimport manageTags from './manageTags';\r\nimport updateFeaturesToRun from './updateFeaturesToRun';\r\nimport handleFormSubmit from './handleFormSubmit';\r\nimport handleFolderClick from './handleFolderClick';\r\nimport handleFileClick from './handleFileClick';\r\nimport resetClick from './resetClick';\r\nimport {storeFeatures, globalTags} from './globals';\r\n\r\nvar host = 'http://'+document.location.host;\r\nvar featureListReady = new Event('featureListReady', {\"bubbles\": true, \"cancelable\": false});\r\n\r\ngetRequest(host+'/environments', function (responseObj) {\r\n    var parent = document.getElementById('environmentsFormInner');\r\n\r\n    if (typeof responseObj !== 'object') {\r\n        return;\r\n    }\r\n\r\n    Object.keys(responseObj).forEach(function (key) {\r\n        const inputParent = document.createElement('span');\r\n        inputParent.className = \"btn btn-outline-dark mr-1 mb-1\";\r\n        parent.appendChild(inputParent);\r\n\r\n        insertInput({\r\n            type: 'checkbox',\r\n            value: key,\r\n            labelText: key,\r\n            className: 'mr-2',\r\n            dataType: 'environment',\r\n            id: key,\r\n            checked: (key === 'chrome') ? 'checked' : false,\r\n            parent: inputParent\r\n        });\r\n    });\r\n});\r\n\r\ngetRequest(host+'/features', function (responseObj) {\r\n    if (typeof responseObj !== 'object') {\r\n        return;\r\n    }\r\n\r\n    //Cache response\r\n    storeFeatures.set(responseObj);\r\n\r\n    insertFeatureLine(responseObj, document.getElementById('filesFormInner'));\r\n\r\n    if (globalTags.get().length) {\r\n        let uniqueTags = globalTags.get().sort().filter(function (item, pos, self) {\r\n            return self.indexOf(item) === pos;\r\n        });\r\n        manageTags(uniqueTags);\r\n    }\r\n    updateFeaturesToRun();\r\n    document.dispatchEvent(featureListReady);\r\n});\r\n\r\nhandleFormSubmit(host);\r\nhandleFolderClick();\r\nhandleFileClick();\r\nresetClick();"],"sourceRoot":""}